const { correctGrammar } = require('./services/grammarService');
const { explainCorrection } = require('./services/explainService');
const { validateText } = require('./utils/validateInput');

async function test() {
  const original = "Yesterday I waking up very late because I was forget to put the alarm in night. My mom shout me from kitchen for do hurry because I has to go college early but I still feeling sleepy and not wanted to go. After I brushing my teeths I go to bathroom and find the tap is not working so I washing face by bottle water. Then I trying to wear the cloths but my shirt was not ironed and pant was dirty so I pick another one but its button is broken. I thinking to not go college but then I remembering that today is important test for which I not studying whole night because I watching movie till 2 am. I rush to kitchen where my mom make breakfast but I say I not want to eat because I getting late. She tell me take tiffin but I forget it on table. Then I going out and realizing I not bring the bag. Then I come back and mom angry and say how many time I will forgot the things. I pick the bag and run to bus stop but the bus already gone so I run behind it like mad and peoples on street looking me like I do something wrong. I miss the bus and now I feel sad because auto not available and if I wait more then college gate will be close. After that I take bicycle from neighbour without ask and go fastly to college but in middle the tire getting punctured so I have to walking and I become more late. Finally I reach college but the gatekeeper stop me and say why you so late. I say excuse and tell lie that traffic jam was very big. He allow me inside but my class already started and when I enter the teacher look me very angry and she scold me in front of everyone. I say sorry and sit in backbench where no one want to sit. I forget pen and borrow from friend who also scold me and say every time you do same. The test was start but question is so hard I not understand anything and I feel like I will fail it. I try to remember what teacher was teach but my mind was blank and I just writing anything come to mind. Then I looking to other paper but teacher catch me and shout why you doing cheating. I become very shame and not speak anything. After test finish teacher ask me to stay and then say you must improve else you fail in final. I nod head and say yes ma'am I do try. Later in canteen I go for food but forgot I not bring money. So I ask friend for give me food and he say he already gave me yesterday and I not return. I say sorry and leave from there. While walking to class some student laugh on me because teacher scold me and I feel very bad. In lab session I drop the chemical bottle and lab assistant angry on me and say you not careful. I clean it with cloth but smell was very strong and my nose become pain. After that I go for library but forgot my library card. Librarian say no entry without card so I sit outside and try to study but too much noise there. I feeling very unlucky that day. In afternoon I call my friend to ask for notes but he say he also not write. I realize that I depend too much on others and not take responsibility of own work. While returning home it starting to rain and I not bring umbrella or raincoat. I become full wet and shiver cold. A dog bark on me and chase and I run again like morning. When I reach home mom again scold me and say I become careless day by day. I say I am tired and go to room but power cut happen and I canâ€™t even charge my phone which is already dead. I lay on bed but mosquito not allow me to sleep. I try to kill one but I hit glass and it broken. Mom come running and say what happen now. I say sorry and she say go to sleep now. Next day again I wake up late and same story repeat. I feel my life going in cycle of problem and mistake. I want to change but I not know from where to start. My dad say to me last week that discipline is key but I not understand that time. Now I realize that he was right. I thinking from next week I try to wake up early and make proper plan of study. I will stop watch movie at night and focus on health also. I will try to remember bring all thing with me and not forget bag, money, umbrella, card etc. My goal is to improve slowly and become better version of me. If I not do now, then in future I regret and blame myself. I want to make parents feel proud but right now I only make them angry. My friend say that I have potential but I waste time in useless thing like scrolling phone and daydream. He say if I want to do something great then I must take serious action. I agree with him and decide to write daily what I do and not do. I will make list of mistake and how I fix. I also decide to stop lie and excuse. If I late then I say truth and try to avoid next time. In college I will ask question if I not understand and stop depending others for everything. I thinking all this in my mind while laying on bed and feel little positive. Next morning I again forget alarm but this time mom wake me and I jump from bed. I brush quickly, dress proper, eat food, take tiffin, bag and everything and reach bus stop before time. Bus come and I get seat near window and listen music. In class I on time and teacher smile and say good. I write all notes and even answer one question. I feel happy and confident. I decide to continue this and not go back to careless life. I still make some mistake but I not give up. I learning step by step and that is more important. Life not become perfect in one day but we must keep try. I now understand why my dad say discipline is key. He say to me again last night that proud of me and I feel tear in eye. I know journey long but I now start to walk.";
    const error = validateText(original);
  if (error) {
    console.error("Validation error:", error);
    return;
  };
  const corrected = await correctGrammar(original);
  const explanation = await explainCorrection(original, corrected);//for mistake explanation

  console.log("Original:", original);
  console.log("Corrected:", corrected);
  console.log("Explanation:", explanation);
  console.log("Test completed successfully.");
}

test();
